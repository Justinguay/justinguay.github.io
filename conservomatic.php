<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html><head>  <title>Conserv-o-matic</title>  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"></head><body style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);"><?	// creating string splitter functionif(!function_exists('str_split')){   function str_split($string,$split_length=1){       $count = strlen($string);        if($split_length < 1){           return false;        } elseif($split_length > $count){           return array($string);       } else {           $num = (int)ceil($count/$split_length);            $ret = array();            for($i=0;$i<$num;$i++){                $ret[] = substr($string,$i*$split_length,$split_length);            }            return $ret;       }        } }//start conservomaticif (isset($_POST['N1'])) {	$c=0;	$bases = $_POST['s0'];	$arr = str_split($bases, 1);	while ($arr[$c]) {		$r=0;		while ($r < $count) {			$set = 's'.$r;			$bases = $_POST[$set];			$arr = str_split($bases, 1);			$row[$r] = $arr[$c];			$r++;		}		$n = 0;		$score[$c] = 0;		while ($row[$n]) {			$i = 1; 			while ($row[($n + $i)]) {				if ($row[$n] == $row[($n + $i)]) {					$score[$c] = $score[$c] + 1/($count-1);				}				$i++;			}			$i = 1;			while ($row[($n - $i)]) {				if ($row[$n] == $row[($n - $i)]) {					$score[$c] = $score[$c] + 1/($count-1);				}				$i++;			}			$n++;		}		$c++;	}	echo '<table border="0" cellspacing="0" >';	$set = s0;	$r = 0;	while ($r < $count) {		$set = 's'.$r;		$bases = $_POST[$set];		$gtname = 'N'.$r;		$name = $_POST[$gtname];		echo '<tr><td height="20" width="200"><font size="1"><b>'.$name.':</b></font></td><td>&nbsp;</td>';		$arr = str_split($bases, 1);		$c = 0;		while ($arr[$c]) {			echo  '<td height="20" width="10"><font size="1">'.$arr[$c].'</font></td>';			$c++;		}		echo '</tr>';		$r++;	}	$max = $count * 2;	$r = 0;	while ($r < $max) {		echo '<tr><td><font color="#FFFFFF" height="1" width="200">&nbsp;</font></td><td>&nbsp;</td>';		$n = 0;		while ($n < $c) {			if ($score[$n] > $r) {				echo  '<td bgcolor="#FF0000" height="1" width="10"><font color="#FF0000">&nbsp;</font></td>';			}			else {				echo  '<td><font color="#FFFFFF" height="1" width="10">&nbsp;</font></td>';			}			$n = $n+1;		}		echo '</tr>';		$r++;	}	echo '</table>'.		'<p></p>'.		'<p></p>';}if (isset($_POST['count'])) {	$count = $_POST['count'];	echo '<form action="conservomatic.php" method="post">';	$n = 0;	while ($n < $count) {		echo '<label>SeqName'.($n+1).':'. 			'<input type="text" name="N'.$n.'" />'.			'</label>&nbsp;'.			'<label>Sequence'.($n+1).':'. 			'<input type="text" name="s'.$n.'" />'.			'</label><br />';		$n++;	}	echo '<input type="submit" value="GO" />'.		'<input type="hidden" name ="count" value="'.$count.'" >'.			'</form>';}echo '<form action="conservomatic.php" method="post">'.	'<label>How many sequences to align?'.	'<input name="count" />'.	'</label>'.	'</form>';?></body></html>